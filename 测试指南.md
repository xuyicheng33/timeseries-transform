好的，我来综合您的修改意见和我的发现，输出一份完整的修改后测试指南：

---

# 时序数据预测平台 - 使用指南与测试方案

## 一、平台概述

这是一个时序数据预测结果管理与可视化平台，主要用于：
- 管理时序数据集（上传、预览、下载、质量检测、数据清洗、数据探索）
- 配置数据预处理参数（归一化、窗口化、异常注入等）
- 上传和管理预测结果
- 多模型预测结果可视化对比
- 计算评估指标（MSE、RMSE、MAE、R²、MAPE）
- 配置对比与参数敏感性分析
- 实验组管理和报告生成

---

## 二、功能模块详细使用指南

### 1. 用户认证模块

#### 1.1 注册功能
- 入口：访问 `/register` 页面
- 必填字段：
  - 用户名（3-50字符，只能包含字母、数字、下划线）
  - 邮箱（有效邮箱格式）
  - 密码（至少6个字符）
  - 确认密码
- 可选字段：姓名（最多100字符）
- 注册成功后：自动登录并跳转到数据中心页面

#### 1.2 登录功能
- 入口：访问 `/login` 页面
- 支持：用户名或邮箱登录
- Token机制：
  - Access Token 有效期 30 分钟
  - Refresh Token 有效期 7 天
  - Token 过期自动刷新，刷新失败跳转登录页

#### 1.3 退出登录
- 入口：右上角用户下拉菜单 →「退出登录」
- 注意：下拉菜单中的「个人信息」「账号设置」目前为禁用状态

### 2. 数据中心模块 (`/datasets`)

#### 2.1 上传数据集
- 支持格式：仅 CSV 文件
- 大小限制：最大 100MB
- 上传流程：
  1. 点击「上传数据集」按钮
  2. 拖拽或选择 CSV 文件
  3. 填写数据集名称（自动从文件名提取）
  4. 填写描述（可选）
  5. 设置是否公开（公开后其他用户可查看下载）
- 自动处理：
  - 自动检测文件编码（支持 UTF-8、GBK 等）
  - 自动统计行数、列数、列名

#### 2.2 数据预览
- 点击表格中的「预览」图标
- 显示前 100 行数据
- 显示数据集元信息（文件名、大小、行列数等）

#### 2.3 数据质量检测
- 点击「质量检测」图标，打开质量检测抽屉
- 检测内容（4个Tab）：
  - **缺失值分析**：每列缺失数量、缺失率、分布图
  - **异常值检测**：支持 IQR、Z-Score、MAD、百分位数四种方法（可切换）
  - **重复行检测**：统计重复行数量
  - **列统计信息**：均值、标准差、最小值、中位数、最大值
  - **时序分析**：自动识别时间列，分析时间范围和频率
- 质量评分：0-100 分，分为优秀(≥90)、良好(≥70)、一般(≥50)、较差(<50)
- 改进建议：根据检测结果自动生成建议

#### 2.4 数据清洗
- 在质量检测抽屉中点击「数据清洗」按钮
- 清洗选项：
  - 缺失值处理：删除行、填充均值/中位数/众数/前后值
  - 异常值处理：删除、替换为边界值、替换为均值
  - 重复行处理：删除重复行
- 输出选项：
  - 覆盖原数据集
  - 创建新数据集（可自定义后缀）

#### 2.5 数据探索
- 点击「数据探索」图标，打开探索抽屉
- 功能 Tab（5个）：
  - **数据概览**：行列数、内存占用、列类型统计
  - **分布分析**：选择列查看直方图、箱线图、统计量（偏度、峰度）
  - **相关性分析**：热力图展示列间相关性（Pearson/Spearman/Kendall 可切换）
  - **趋势分析**：查看时序趋势、移动平均（窗口可调）、趋势方向
  - **多列对比**：选择 2-5 列进行归一化对比

#### 2.6 批量操作
- 勾选多个数据集后可进行：
  - **批量删除**：删除选中的数据集及关联的配置和结果
  - **批量导出**：导出为 ZIP 包，包含数据集、配置、结果

#### 2.7 导入功能
- 点击「导入」按钮
- 选择之前导出的 ZIP 文件
- 预览导入内容（显示数据集/配置/结果数量）
- 确认导入后列表刷新

### 3. 配置向导模块 (`/configurations`)

#### 3.1 创建配置（7步向导）
- **第1步：选择数据集** - 从下拉列表选择要配置的数据集
- **第2步：选择通道** - 多选要使用的数据列（至少选择1个）
- **第3步：归一化配置**
  - 基础方法：None（不归一化）、MinMax、Z-Score
  - 鲁棒方法：Robust（基于中位数）、MaxAbs
  - 变换方法：Log、Box-Cox、Yeo-Johnson
  - 分布变换：Quantile（均匀/正态分布）、Rank
- **第4步：异常注入配置**（可选）
  - 启用/禁用异常注入
  - 异常类型：点异常、上下文异常、集体异常
  - 注入算法：随机注入、基于规则注入
  - 序列逻辑：单点、连续、周期性
- **第5步：窗口参数**
  - 窗口大小（1-10000）
  - 步长（1-1000）
  - 目标类型：next（预测下一个值）、kstep（预测后 K 个值）、all（预测整个窗口）
- **第6步：模型模板**（可选）- 选择预定义的模型模板，查看模板详情
- **第7步：预览确认** - 预览所有配置，自动生成标准文件名，输入配置名称并创建

#### 3.2 配置管理
- 查看配置列表（支持分页）
- 编辑配置名称
- 复制配置（创建副本）
- 删除配置

### 4. 结果仓库模块 (`/results`)

#### 4.1 上传预测结果
- **文件格式要求**：
  - **完整格式**：CSV 包含 `true_value` 和 `predicted_value` 两列
  - **仅预测值格式**：CSV 只包含 `predicted_value` 列，需指定目标列从数据集获取真实值
- **必填信息**：结果名称、关联数据集、模型名称（如 LSTM、Transformer、TCN）
- **可选信息**：关联配置、模型版本、描述、目标列（仅预测值模式）
- **自动计算**：上传后自动计算 MSE、RMSE、MAE、R²、MAPE 指标
- **重要说明**：
  - 仅预测值模式下，行数必须与数据集目标列行数一致，否则报错
  - 完整格式模式下，不强制校验行数与数据集一致

#### 4.2 结果筛选
- 按数据集筛选
- 按模型名称筛选

#### 4.3 结果操作
- **指标详情**：查看完整的评估指标
- **预览数据**：查看前 100 行预测数据
- **下载**：下载结果 CSV 文件
- **编辑**：修改名称、模型信息、描述
- **删除**：删除结果

### 5. 可视化对比模块 (`/visualization`)

#### 5.1 结果选择
- 按数据集筛选结果
- 多选要对比的结果（最多 10 个）
- 支持 URL 参数 `?ids=1,2,3` 直接指定结果

#### 5.2 降采样配置
- 算法选择：LTTB（默认，保留视觉特征）、MinMax（保留极值点）、Average（平均采样）
- 最大点数：100-10000，控制渲染性能

#### 5.3 曲线对比 Tab
- 显示真实值曲线和各模型预测曲线
- 支持缩放、平移（鼠标滚轮/底部滑块）
- 双击恢复初始视图
- 导出为 PNG/JPG 图片
- 导出对比数据为 CSV

#### 5.4 误差分析 Tab
- 误差统计卡片：每个模型的均值、标准差、中位数、最小/最大值
- 残差时序图：显示预测值-真实值的残差变化
- 误差分布直方图：所有模型使用统一的 bin 边界，便于对比

#### 5.5 雷达图 Tab
- 性能雷达图：5 个指标归一化后的雷达图对比
- 综合排名：基于所有指标的综合得分排名
- 原始指标表：显示各模型的原始指标值

#### 5.6 区间分析 Tab
- 输入起始和结束索引
- 计算指定区间内的评估指标
- 用于分析特定时间段的预测效果

#### 5.7 配置对比 Tab
- 对比选中结果关联的配置信息
- 查看配置差异
- 参数敏感性分析按钮
- 控制变量对比功能
- 调参建议生成

#### 5.8 全量指标对比表
- 显示所有选中结果的完整指标
- 绿色加粗标记最优值

### 6. 高级可视化模块 (`/advanced-viz`)

#### 6.1 结果选择
- 支持多选结果（标签形式显示）
- 至少保留 1 个结果
- 「对比分析」按钮跳转到可视化对比页面

#### 6.2 置信区间分析 Tab
- 基于预测误差计算置信区间
- 可调参数：置信水平（默认95%）、滑动窗口大小
- 显示预测值的不确定性范围
- 显示覆盖率和平均区间宽度

#### 6.3 特征重要性分析 Tab
- 分析各特征对预测结果的影响程度
- 支持三种方法：相关性(correlation)、方差(variance)、梯度(gradient)
- 柱状图展示重要性排序
- **注意**：需要结果文件包含除 true_value/predicted_value 以外的特征列

#### 6.4 预测分解分析 Tab
- 将预测结果分解为趋势、季节性、残差等成分
- 支持自动检测周期或手动指定
- 帮助理解模型捕获的模式

### 7. 实验管理模块 (`/experiments`)

#### 7.1 创建实验组
- 输入实验名称、描述、目标/假设
- 关联数据集（可选）
- 添加标签

#### 7.2 实验状态管理
- 草稿：初始状态
- 进行中：实验进行中
- 已完成：实验结束
- 已归档：归档保存

#### 7.3 添加/移除结果
- 从结果列表选择要添加的结果
- 支持批量添加
- 移除已添加的结果

#### 7.4 实验统计汇总
- 结果数量、涉及模型
- 最佳指标（MSE、RMSE、MAE、R²、MAPE）及对应模型
- 平均指标

#### 7.5 筛选与搜索
- 按状态筛选
- 按标签筛选
- 按数据集筛选
- 名称/描述搜索

#### 7.6 快捷操作
- 一键跳转可视化对比
- 生成实验报告（Markdown/HTML/LaTeX）
- 导出实验数据（ZIP包）
- 获取 LaTeX 表格代码

### 8. 模型模板模块 (`/model-templates`)

#### 8.1 预置模板
- 系统预置常用模型模板（LSTM、GRU、Transformer、TCN 等）
- 管理员可初始化预置模板

#### 8.2 创建自定义模板
- 基本信息：名称、版本、类别、描述
- 常用超参数：hidden_size、num_layers、dropout、learning_rate、batch_size、epochs
- 高级配置：JSON 格式的额外超参数和训练配置
- 适用任务：预测、分类、异常检测、插补
- 推荐场景：描述适合的数据特征

#### 8.3 模板操作
- 搜索模板
- 按类别筛选
- 查看详情
- 复制为新模板
- 编辑（非系统模板）
- 删除（非系统模板）
- **权限说明**：系统模板只有管理员可编辑/删除

### 9. 报告生成功能

#### 9.1 生成方式
- 从实验管理页面生成实验报告

#### 9.2 报告格式
- Markdown：适合文档编辑
- HTML：适合网页展示
- LaTeX：适合学术论文

#### 9.3 报告内容选项
- 汇总统计
- 指标对比表
- 最佳模型分析
- 数据集信息
- 实验结论

#### 9.4 LaTeX 快捷工具
- 一键获取可直接复制到论文的 LaTeX 表格代码

---

## 三、测试方案

### 0. 通用/全局测试（所有页面）

| 测试项 | 测试步骤 | 预期结果 |
|--------|----------|----------|
| 侧边栏菜单跳转 | 点击各菜单项 | 正确跳转到对应页面 |
| 刷新后登录态保持 | 登录后刷新页面 | 保持登录状态，不跳转登录页 |
| 未登录访问受保护页 | 未登录直接访问 /datasets | 自动跳转到登录页 |
| 404 兜底 | 访问不存在的路由如 /abc | 跳转到数据中心页面 |
| 退出登录 | 点击右上角用户下拉→退出登录 | 清除登录态，跳转登录页 |
| 禁用菜单项 | 点击「个人信息」「账号设置」 | 显示为禁用状态，不可点击 |

### 1. 功能测试用例

#### 1.1 用户认证测试

| 测试项 | 测试步骤 | 预期结果 |
|--------|----------|----------|
| 正常注册 | 填写有效信息注册 | 注册成功，自动登录 |
| 重复用户名 | 使用已存在用户名注册 | 提示用户名已存在 |
| 重复邮箱 | 使用已存在邮箱注册 | 提示邮箱已被使用 |
| 无效邮箱 | 输入格式错误的邮箱 | 表单验证失败，提示格式错误 |
| 密码过短 | 输入少于6位密码 | 提示密码长度不足 |
| 密码不一致 | 两次密码输入不同 | 提示密码不一致 |
| 正常登录 | 输入正确用户名密码 | 登录成功，跳转数据中心 |
| 邮箱登录 | 使用邮箱+密码登录 | 登录成功 |
| 错误密码 | 输入错误密码 | 提示用户名或密码错误 |
| 不存在用户 | 输入不存在的用户名 | 提示用户名或密码错误 |
| Token 过期 | 等待 Token 过期后操作 | 自动刷新或跳转登录 |

#### 1.2 数据中心测试

**上传功能**

| 测试项 | 测试步骤 | 预期结果 |
|--------|----------|----------|
| 上传正常 CSV | 上传 stock_v2.csv | 上传成功，显示 500 行 |
| 上传大文件 | 上传 large_scale_v2.csv | 上传成功，显示 50000 行，进度条正常 |
| 上传缺失值数据 | 上传 missing_values_v2.csv | 上传成功，质量检测显示缺失 |
| 上传非 CSV | 上传任意 .txt 文件 | 提示仅支持 CSV |
| 上传超大文件 | 上传超过 100MB 的文件 | 提示文件过大 |
| 自定义名称 | 修改默认数据集名称 | 使用自定义名称保存 |
| 设置公开 | 勾选公开选项 | 其他用户可查看下载 |
| 上传失败提示 | 上传损坏的 CSV | 显示错误提示 |

**表格与操作**

| 测试项 | 测试步骤 | 预期结果 |
|--------|----------|----------|
| 预览数据 | 点击预览图标 | 弹窗显示前 100 行 |
| 下载数据 | 点击下载图标 | 下载原始 CSV 文件 |
| 编辑数据集 | 点击编辑图标 | 可修改名称、描述、公开状态 |
| 删除数据集 | 点击删除图标 | 确认后删除，关联配置和结果也删除 |
| 列名 tooltip | 鼠标悬停列名列 | 显示完整列名列表 |
| 分页 | 切换页码 | 正确显示对应页数据 |

**批量操作**

| 测试项 | 测试步骤 | 预期结果 |
|--------|----------|----------|
| 批量选择 | 勾选多个数据集 | 显示已选数量，出现批量操作按钮 |
| 取消选择 | 点击取消选择 | 清空所有勾选 |
| 批量删除 | 选择多个后点击批量删除 | 确认后全部删除 |
| 批量删除-部分无权限 | 包含他人私有数据集 | 有权限的删除，无权限的跳过并提示 |
| 批量导出-仅数据集 | 不勾选包含结果 | ZIP 只包含数据集文件 |
| 批量导出-完整 | 勾选包含配置和结果 | ZIP 包含所有关联文件 |

**导入功能**

| 测试项 | 测试步骤 | 预期结果 |
|--------|----------|----------|
| 导入预览 | 选择导出的 ZIP 文件 | 显示将导入的数量 |
| 确认导入 | 点击确认导入 | 创建新数据集，ID 重新分配 |
| 导入后验证 | 查看导入的数据 | 数据完整，配置关联正确 |
| 导入非 ZIP | 选择非 ZIP 文件 | 提示仅支持 ZIP |
| 导入过大文件 | 上传超过 500MB 的 ZIP | 提示文件过大 |

**质量检测**

| 测试项 | 测试步骤 | 预期结果 |
|--------|----------|----------|
| 完整数据检测 | 检测 sensor_v2.csv | 质量评分高，无缺失 |
| 缺失值检测 | 检测 missing_values_v2.csv | 显示各列不同缺失率（5%/10%/20%/30%） |
| 异常值检测-IQR | 选择 IQR 方法 | 检测到异常值 |
| 异常值检测-ZScore | 切换到 Z-Score 方法 | 使用 3σ 原则检测 |
| 异常值检测-MAD | 切换到 MAD 方法 | 正确检测 |
| 异常值检测-百分位 | 切换到百分位方法 | 正确检测 |
| 时序分析 | 检测 weather_v2.csv | 识别 datetime 列，频率 1H |
| 刷新检测 | 点击刷新按钮 | 重新计算质量报告 |
| 打开清洗 | 点击数据清洗按钮 | 打开清洗弹窗 |

**数据清洗**

| 测试项 | 测试步骤 | 预期结果 |
|--------|----------|----------|
| 缺失值-删除行 | 选择删除含缺失值的行 | 预览显示将删除的行数 |
| 缺失值-填充均值 | 选择填充均值 | 预览显示填充效果 |
| 缺失值-填充中位数 | 选择填充中位数 | 正确填充 |
| 缺失值-前后值填充 | 选择前后值填充 | 正确填充 |
| 异常值-删除 | 选择删除异常值行 | 预览显示将删除的行数 |
| 异常值-替换边界 | 选择替换为边界值 | 正确替换 |
| 重复行-删除 | 选择删除重复行 | 预览显示将删除的行数 |
| 覆盖原数据集 | 选择覆盖方式执行 | 原数据集被更新 |
| 创建新数据集 | 选择新建方式执行 | 列表出现新数据集，原数据不变 |

**数据探索**

| 测试项 | 测试步骤 | 预期结果 |
|--------|----------|----------|
| 数据概览 Tab | 打开探索抽屉 | 显示行列数、内存、列类型统计 |
| 分布分析-数值列 | 选择 temperature 列 | 显示直方图、箱线图、统计量 |
| 分布分析-分类列 | 选择非数值列 | 显示值频率统计 |
| 分布分析-分箱数 | 调整分箱数滑条 | 直方图 bin 数量变化 |
| 相关性-Pearson | 选择 Pearson 方法 | 显示热力图 |
| 相关性-Spearman | 切换到 Spearman | 重新计算相关性 |
| 相关性-Kendall | 切换到 Kendall | 重新计算相关性 |
| 强相关标记 | 查看相关性结果 | 标记 |r|>0.7 的强相关对 |
| 趋势分析 | 选择数值列 | 显示原始数据、移动平均、趋势线 |
| 趋势-调整窗口 | 调整移动平均窗口 | 曲线平滑度变化 |
| 趋势方向 | 查看趋势统计 | 显示上升/下降/稳定 |
| 多列对比-归一化 | 选择 3 列，启用归一化 | 曲线归一化到 0-1 |
| 多列对比-原始值 | 关闭归一化 | 显示原始值曲线 |
| 多列对比-相关性 | 查看对比结果 | 显示选中列的相关性矩阵 |

#### 1.3 配置向导测试

**配置列表**

| 测试项 | 测试步骤 | 预期结果 |
|--------|----------|----------|
| 查看列表 | 进入配置页面 | 显示配置列表，支持分页 |
| 编辑配置 | 点击编辑按钮 | 可修改配置名称 |
| 复制配置 | 点击复制按钮 | 创建配置副本 |
| 删除配置 | 点击删除按钮 | 确认后删除 |

**创建配置向导**

| 测试项 | 测试步骤 | 预期结果 |
|--------|----------|----------|
| 第1步-不选数据集 | 不选择数据集点下一步 | 无法进入下一步，提示必选 |
| 第1步-选择数据集 | 选择数据集 | 进入第2步 |
| 第2步-不选通道 | 不选择任何列点下一步 | 无法进入下一步，提示至少选1个 |
| 第2步-选择通道 | 选择多个列 | 进入第3步 |
| 第3步-归一化选择 | 选择不同归一化方法 | 正确记录选择 |
| 第4步-启用异常注入 | 启用异常注入 | 显示额外配置项 |
| 第5步-窗口参数越界 | 输入超出范围的值 | 提示参数越界 |
| 第5步-kstep 模式 | 选择 kstep，输入 K 值 | K 值校验通过 |
| 第6步-选择模板 | 选择 LSTM 模板 | 显示模板详情 |
| 第7步-预览 | 查看预览页 | 显示所有配置，生成文件名 |
| 第7步-复制文件名 | 点击复制按钮 | 文件名复制到剪贴板 |
| 创建成功 | 点击创建 | 配置创建成功，列表新增 |

#### 1.4 模型模板测试

| 测试项 | 测试步骤 | 预期结果 |
|--------|----------|----------|
| 搜索模板 | 输入关键词搜索 | 过滤显示匹配模板 |
| 类别筛选 | 选择类别筛选 | 只显示该类别模板 |
| 刷新列表 | 点击刷新按钮 | 重新加载模板列表 |
| 查看详情 | 点击模板卡片 | 显示模板详情弹窗 |
新建模板-必填校验	不填必填字段提交	提示必填字段
新建模板-JSON校验	高级配置输入非法 JSON	提示 JSON 格式错误
新建模板-成功	填写完整信息提交	模板创建成功，列表新增
复制为新模板	点击复制按钮	打开新建弹窗，预填原模板信息
编辑模板	点击编辑按钮	可修改模板信息
删除模板	点击删除按钮	确认后删除
系统模板-编辑	非管理员编辑系统模板	编辑按钮禁用或提示无权限
系统模板-删除	非管理员删除系统模板	删除按钮禁用或提示无权限
管理员-初始化预置	管理员点击初始化按钮	创建预置模板
获取管理员账号说明：需要在数据库中将用户的 is_admin 字段设为 true，或使用预设的管理员账号。
1.5 结果仓库测试
筛选功能
测试项	测试步骤	预期结果
按数据集筛选	选择特定数据集	只显示该数据集的结果
按模型名筛选	输入模型名称	过滤显示匹配结果
清空筛选	清空筛选条件	显示所有结果
上传功能-完整格式
测试项	测试步骤	预期结果
完整格式上传	上传含 true_value 和 predicted_value 的 CSV	上传成功，计算指标
缺少 predicted_value	上传无 predicted_value 列的 CSV	提示缺少必需列
含 NaN 值	上传含 NaN 的预测结果	正常处理或提示警告
非数值数据	predicted_value 含非数值	提示数据格式错误
完美预测	上传 result_perfect_prediction.csv	R²=1.0，MSE≈0
极差预测	上传 result_random_prediction.csv	R²≈-0.93，指标很差
上传功能-仅预测值格式
测试项	测试步骤	预期结果
仅预测值-选目标列	上传仅 predicted_value，选择目标列	从数据集获取 true_value，计算指标
仅预测值-不选目标列	上传仅 predicted_value，不选目标列	提示需要选择目标列
仅预测值-行数一致	行数与数据集目标列一致	上传成功
仅预测值-行数不一致	行数与数据集不一致	提示行数不匹配错误
结果操作
测试项	测试步骤	预期结果
指标详情	点击指标详情按钮	弹窗显示 MSE/RMSE/MAE/R²/MAPE
预览数据	点击预览按钮	显示前 100 行预测数据
下载结果	点击下载按钮	下载结果 CSV 文件
编辑结果	点击编辑按钮	可修改名称、模型信息、描述
删除结果	点击删除按钮	确认后删除
1.6 可视化对比测试
结果选择
测试项	测试步骤	预期结果
数据集筛选	选择特定数据集	只显示该数据集的结果
单结果选择	选择 1 个结果	显示真实值和预测曲线
多结果选择	选择 3-5 个结果	多条曲线正确显示
最大结果数	尝试选择超过 10 个	提示最多选择 10 个
URL 参数	访问 ?ids=1,2,3	自动选中对应结果
空状态	不选择任何结果	显示空状态提示
降采样配置
测试项	测试步骤	预期结果
LTTB 算法	选择 LTTB	曲线保留视觉特征
MinMax 算法	切换到 MinMax	保留极值点
Average 算法	切换到 Average	平均采样
调整最大点数	拖动滑条	曲线平滑度变化
曲线对比 Tab
测试项	测试步骤	预期结果
曲线显示	查看曲线图	真实值和各预测曲线正确显示
缩放	鼠标滚轮缩放	图表缩放
平移	拖动底部滑块	图表平移
双击恢复	双击图表	恢复初始视图
导出 PNG	点击导出图片	下载 PNG 图片
导出 CSV	点击导出数据	下载包含所有数据的 CSV
误差分析 Tab
测试项	测试步骤	预期结果
误差统计卡片	查看统计卡片	显示各模型的均值、标准差等
残差时序图	查看残差图	显示残差随时间变化
误差分布直方图	查看直方图	所有模型使用统一 bin 边界
雷达图 Tab
测试项	测试步骤	预期结果
雷达图显示	查看雷达图	5 维雷达图正确显示
综合排名	查看排名	基于综合得分排序
原始指标表	查看指标表	显示各模型原始指标，最优值标绿
区间分析 Tab
测试项	测试步骤	预期结果
输入区间	输入起始和结束索引	正确接受输入
计算区间指标	点击计算按钮	显示区间内的评估指标
无效区间	输入起始>结束	提示区间无效
配置对比 Tab
测试项	测试步骤	预期结果
配置差异显示	查看配置对比	显示各结果的配置参数差异
无配置结果	包含未关联配置的结果	显示警告，跳过该结果
参数敏感性分析	点击敏感性分析按钮	显示各参数敏感性得分排名
控制变量对比	选择单一参数分析	显示该参数与指标的关系
调参建议	查看分析结果	生成合理的调参建议文本
异常情况
测试项	测试步骤	预期结果
true_value 不一致	选择不同数据集的结果	显示警告提示
加载状态	选择大数据结果	显示加载动画
加载失败	模拟网络错误	显示错误提示
1.7 高级可视化测试
结果选择
测试项	测试步骤	预期结果
多选结果	选择多个结果	标签形式显示已选
移除标签	点击标签的关闭按钮	移除该结果
至少保留1个	尝试移除最后一个	提示至少保留 1 个
对比分析按钮	点击对比分析	跳转到可视化对比页面
置信区间 Tab
测试项	测试步骤	预期结果
默认置信水平	使用默认 95%	显示置信区间曲线
调整置信水平	改为 90%	区间变窄
调整窗口大小	修改滑动窗口	区间平滑度变化
覆盖率显示	查看统计信息	显示真实值落在区间内的比例
平均区间宽度	查看统计信息	显示平均区间宽度
特征重要性 Tab
测试项	测试步骤	预期结果
相关性方法	选择 correlation	显示相关性排名
方差方法	切换到 variance	显示方差贡献排名
梯度方法	切换到 gradient	显示梯度相关性排名
无特征列	使用只有 true/pred 的结果	提示"可能缺少特征列"
有特征列	使用带特征列的结果	正确显示特征重要性
预测分解 Tab
测试项	测试步骤	预期结果
自动检测周期	不指定周期	自动检测并显示周期
手动指定周期	输入周期值	按指定周期分解
分解组件	查看分解结果	显示趋势、季节性、残差曲线
数据不足	数据点少于 100	提示数据不足
1.8 实验管理测试
实验列表
测试项	测试步骤	预期结果
查看列表	进入实验管理页面	显示实验列表
按状态筛选	选择"进行中"	只显示进行中的实验
按标签筛选	选择特定标签	只显示含该标签的实验
按数据集筛选	选择特定数据集	只显示关联该数据集的实验
搜索	输入关键词	过滤名称/描述匹配的实验
创建实验
测试项	测试步骤	预期结果
创建实验组	填写名称、描述、目标	创建成功
添加标签	输入多个标签	标签正确保存
关联数据集	选择数据集	关联成功
添加初始结果	创建时选择结果	结果关联到实验
实验操作
测试项	测试步骤	预期结果
编辑实验	修改名称、描述、状态	保存成功
添加结果	点击添加结果按钮	可选择结果添加
移除结果	点击结果的移除按钮	从实验中移除
删除实验	点击删除按钮	确认后删除
统计汇总
测试项	测试步骤	预期结果
查看汇总	点击汇总 Tab	显示结果数量、涉及模型
最佳指标	查看最佳指标	显示各指标最佳值及对应模型
平均指标	查看平均指标	显示所有结果的平均指标
报告与导出
测试项	测试步骤	预期结果
生成 Markdown 报告	选择 Markdown 格式	下载 .md 文件
生成 HTML 报告	选择 HTML 格式	下载 .html 文件
生成 LaTeX 报告	选择 LaTeX 格式	下载 .tex 文件
自定义标题	设置自定义标题	报告使用自定义标题
内容选项	取消部分选项	报告不含未勾选内容
获取 LaTeX 表格	点击 LaTeX 复制按钮	复制表格代码到剪贴板
导出实验	点击导出按钮	下载 ZIP 包
跳转可视化	点击可视化对比按钮	跳转到可视化页面，自动选中结果
1.9 权限与角色测试
测试项	测试步骤	预期结果
公开数据集-他人查看	用户B查看用户A的公开数据集	可以查看和下载
公开数据集-他人编辑	用户B编辑用户A的公开数据集	无法编辑，提示无权限
私有数据集-他人访问	用户B访问用户A的私有数据集	无法访问
他人数据集-上传结果	向他人公开数据集上传结果	可以上传（如果允许）
他人结果-编辑	编辑他人的结果	无法编辑，提示无权限
管理员-编辑系统模板	管理员编辑系统模板	可以编辑
管理员-删除系统模板	管理员删除系统模板	可以删除
管理员-初始化模板	管理员点击初始化	创建预置模板
2. 性能测试用例
测试项	测试数据	性能指标
大文件上传	large_scale_v2.csv (50000行)	上传时间 < 10s
大数据预览	50000 行数据集	响应时间 < 2s
大数据可视化	50000 点，降采样到 2000	渲染时间 < 3s
多结果对比	10 个结果同时对比	加载时间 < 5s
质量检测	50000 行数据	分析时间 < 10s
相关性矩阵	50 列数据	计算时间 < 5s
批量导出	10 个数据集含结果	导出时间 < 30s
3. 边界测试用例
测试项	测试条件	预期结果
空数据集	只有表头的 CSV	提示数据为空
单行数据	只有 1 行数据	正常处理
超长列名	列名超过 255 字符	正常显示，截断
特殊字符文件名	文件名含中文/空格	正常处理
并发上传	同时上传多个文件	全部成功
超多列	100+ 列的数据集	正常处理，相关性矩阵限制 50 列
完美预测	R²=1.0	正确显示，不报错
负 R²	R²=-0.93	正确显示负值
极大值	数值超过 1e10	正常处理，科学计数法显示
四、测试数据评估与修改建议
当前测试数据问题分析
问题 1：预测结果文件行数与数据集不匹配（严重）
数据集	数据集行数	预测结果行数	状态
weather_v2.csv	8760	1000	❌ 不匹配
sensor_v2.csv	5000	1000	❌ 不匹配
stock_v2.csv	500	500	✅ 匹配
large_scale_v2.csv	50000	50000	✅ 匹配
影响：
完整格式（含 true_value）上传不受影响
仅预测值格式上传 weather/sensor 结果会报"行数不匹配"错误
修复方案：修改 scripts/generate_diverse_results.py，使生成的预测结果行数与对应数据集匹配。
问题 2：R² 性能区分度不足
数据集	R² 最小值	R² 最大值	区分度	评价
weather	0.9581	0.9996	0.04	❌ 区分度不足，雷达图差异不明显
stock	0.9337	0.9996	0.07	❌ 区分度不足
sensor	0.4975	0.9996	0.50	✅ 区分度良好
special	-0.9273	1.0000	1.93	✅ 边界测试良好
修复方案：每个数据集至少生成 3 档结果：
高精度：R² ≈ 0.9+
中精度：R² ≈ 0.6-0.8
低精度：R² ≈ 0.2-0.4
极差：R² < 0（负值）
问题 3：缺少特征重要性测试数据
当前结果文件只有 true_value 和 predicted_value 两列，无法测试高级分析的"特征重要性"功能。
修复方案：补充"带特征列"的结果文件，例如将 weather 的 humidity/pressure/wind_speed 拼入结果 CSV。
问题 4：缺少"仅预测值"格式测试文件
当前所有结果文件都是完整格式，无法测试"仅预测值模式"的上传流程。
修复方案：补充只有 predicted_value 列的结果文件。
问题 5：DATA_MANIFEST.md 目录名错误
文档中写的是 prediction_results_v2/，实际目录是 prediction_results/。
修复方案：将 DATA_MANIFEST.md 中的目录名改为 prediction_results/。
推荐的测试数据补充
1. 补充"仅预测值"格式文件
result_stock_LSTM_pred_only.csv（只有 predicted_value 列，500 行）
result_stock_LSTM_pred_only_wrong_rows.csv（只有 predicted_value 列，300 行，用于测试行数不匹配）
2. 补充"带特征列"格式文件
result_weather_LSTM_with_features.csv（包含 true_value, predicted_value, humidity, pressure, wind_speed）
3. 补充更大区分度的结果
为每个数据集生成 R² 分布更广的结果（0.2~0.95）
推荐的测试流程
基础功能测试（使用 stock 数据集）
上传 stock_v2.csv（500 行，行数匹配）
上传 result_stock_*.csv 系列预测结果
进行可视化对比、指标计算验证
多模型对比测试（使用 sensor 数据集）
sensor 数据集 R² 区分度最好（0.50~0.99）
注意：当前预测结果只有 1000 行，完整格式可用，仅预测值格式会报错
性能测试
使用 large_scale_v2.csv（50000 行）和 result_large_scale.csv
测试降采样、渲染性能、质量检测性能
数据质量测试
使用 missing_values_v2.csv 测试缺失值检测（5%/10%/20%/30% 缺失率）
使用 sensor_v2.csv 测试异常值检测
边界测试
result_perfect_prediction.csv：R² = 1.0（完美预测）
result_random_prediction.csv：R² ≈ -0.93（极差预测）
特征重要性测试
使用带特征列的结果文件（需补充）
五、总结
平台主要优势
完整的用户认证和权限控制
丰富的数据质量检测和清洗功能
强大的可视化对比能力（曲线、误差、雷达图）
配置对比与参数敏感性分析功能
高级可视化分析（置信区间、特征重要性、预测分解）
实验组管理和报告生成功能
支持多种降采样算法优化大数据渲染
测试重点
优先修复：预测结果文件行数与数据集匹配问题
补充测试数据：仅预测值格式、带特征列格式
测试各种边界情况（空数据、大数据、特殊字符、负R²）
验证指标计算的准确性
测试配置对比和参数敏感性分析功能
测试高级可视化功能
测试批量导入导出的完整流程
测试权限控制（公开/私有、管理员/普通用户）
待修复的测试数据问题
weather 和 sensor 预测结果行数需要重新生成（或使用完整格式测试）
建议增加 R² 区分度，使模型对比效果更明显
补充"仅预测值"格式和"带特征列"格式的测试文件
修正 DATA_MANIFEST.md 中的目录名